<style type="text/css">
.running{
    /*background-color:rgb(76,175,80) ;*/
    background-color: rgb(44,190,99);
}
.idle {
  /*background-color:rgb(249,168,37) ;*/
  background-color: rgb(232,162,73);

}
.stopped{
  /*background-color:rgb(198,40,40) ;*/
  background-color: rgb(236,85,80);
}
.nodata{
  background-color: #444444;
}
</style> 
<div ng-include="'sidebar.html'"></div>
   <div class="page home-page">     
   <div ng-include="'header.html'"></div>
   

    <!-- <link rel="stylesheet" type="text/css" href="<some-path>/grasp_mobile_progress_circle-1.0.0.min.css">
   <script src="<some-path>/grasp_mobile_progress_circle-1.0.0.min.js"></script>
    <script src="assets/js/Chart.min.js"></script>
    <script src="assets/js/charts-home.js"></script>
    <script src="assets/js/front.js"></script>-->

  
 <section class="statistics section-padding section-no-padding-bottom section_top" ng-init="dashboard()">
          <div class="container-fluid">
          <header> 
             
            <!--  <div ng-show="myLoader" class="spinner">
                <img src="assets/images/spinner1.gif" class="myspin">
            </div> -->

              <h1 class="h3 display top"><i class="fa fa-laptop"></i>Overall Machine Status
              <ul>
                <li><span class="dot_running"></span>Running</li>
                <li><span class="dot_idle"></span>Idle</li>
                <li><span class="dot_stop"></span>Stop</li>
              </ul>
              <div class="float-right entry_time"><span>Today:</span>{{ clock | date:'dd/MM/yyyy hh:mm:ss a'}} <span>Last updated time:</span> {{cardnames[0].last_update}}</div>
              </h1>
            </header>
            <div class="row d-flex align-items-stretch">
           
            <div class="col-lg-3" ng-repeat="y in cardnames">
                
                <div class="wrapper data-usage">
                  <div class="wrapper_idle"  ng-class="{running :y.machine_status =='3' ,stopped :y.machine_status=='100',nodata: y.machine_status == null,idle : y.machine_status != '3' && y.machine_status !='100' && y.machine_status != null}">
                  <h2 class="display h4"><a href="" ng-click="machine_page_redirect(y.machine_id)" onMouseOver="this.style.color='black'"  onMouseOut="this.style.color='#fff'">{{y.machine_name}}</a></h2>
                  <div class="row d-flex align-items-center">
                    <div class="col-sm-12">
                         <percent-display percent="y.utilization" side="120" colors="#ede7f6 #A179C7" style="margin-left: 33%;"></percent-display>
                    
                    </div>
                    <div class="col-sm-12"><span><a href="" ng-click="job_page_redirect(y.job_id)" onMouseOver="this.style.color='black'"  onMouseOut="this.style.color='#fff'">{{y.job_name}}</a></span></div>
                    <div class="col-sm-12" ng-if="y.job_name==null"><span><a>Not Available</a></span></div>
                  </div>
                  </div>
                  <div class="row status_icon">
                    <div class="col-md-5 status_first">
                    <i class="fa fa-clock-o"></i>
                    Downtime {{y.downtime}}min.
                    </div>
                    <div class="col-md-7">
                    <i class="fa fa-cog" aria-hidden="true"></i>
                    Parts Produced C:{{y.parts_count}}nos | M:{{y.controller_part}}nos.
                    </div>
                  </div>
                </div>
              </div> 
             
            </div>
          </div>
        </section>

        <!-- Updates Section -->
        <section class="updates section-padding">
          <div class="container-fluid">
            <div class="row">
              <div class="col-lg-8">
              <header> 
              <h1 class="h3 display"><i class="fa fa-laptop"></i>Overall Reports
              </h1>
            </header>
                <div class="card">
                  <div class="card-block tablescroll">
                    <table class="table table-striped table-sm table_front">
                      <thead>
                        <tr>
                           <th>Operator Name</th>
                           <th>Operator ID</th>
                           <th>Machine Name</th>
                           <th>Machine ID</th>
                           <th>Shift</th>
                           <th>Job Description</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="operator in operator_alls">
                           <td>{{ operator.operator.operator_name}}</td>
                           <td>{{ operator.operator.operator_spec_id}}</td>
                           <td>{{ operator.machine.machine_type}}</td>
                           <td>{{ operator.machine.machine_name}}</td>
                           <td>{{operator.shifttransaction.shift_no}}</td>
                           <td>{{ operator.description }}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <!-- Daily Feed-->
              <div class="col-lg-4 col-md-6">
              <header> 
              <h1 class="h3 display"><i class="fa fa-bell-o"></i>Recent Alarms
              </h1>
            </header>
                <div class="wrapper daily-feeds" >
                  <div id="feeds-box" role="tabpanel" class="collapse show">
                    <div class="feed-box">
                      <ul class="feed-elements list-unstyled">
                        <!-- List-->
                        <li class="clearfix" ng-repeat="Alarm in cardnames">
                          <div class="feed d-flex justify-content-between">
                            <div class="feed-body d-flex justify-content-between">
                            <div class="date_front">
                            <div class="date_top">
                              <span class="date">{{Alarm.alarm_date}}</span>
                              <span class="month">{{Alarm.alarm_month}}<br>{{Alarm.alarm_year}}</span>
                            </div>
                            <div class="date_botm">{{Alarm.last_update}}</div>
                            </div>
                             <div class="content rec_alarm_bg"><strong>{{Alarm.machine_name}}</strong><small>{{Alarm.alarm.alarm_type}}-{{Alarm.alarm.alarm_number}} : {{ Alarm.alarm.alarm_message }}</small>
                              </div>
                            </div>
                          </div>
                        </li>
                       </ul>
                    </div>
                  </div>
                </div>



         <!--        <header class="mrgn"> 
              <h1 class="h3 display"><i class="fa fa-exclamation-triangle"></i>Recent Activities
              </h1>
            </header>
                <div class="wrapper recent-activities">
                  <div id="activities-box" role="tabpanel" class="collapse show">
                    <ul class="activities list-unstyled">
                      <li>
                        <div class="row">
                          <div class="col-4 date-holder text-right">
                            <div class="icon"><i class="fa fa-clock-o"></i></div>
                            <div class="date"> <span>6:00 am</span><span class="text-info">6 hours ago</span></div>
                          </div>
                          <div class="col-8 content"><strong>GTA/VMC-1260</strong>
                            <p>4-500 : (Z)+ OVERTRAVEL ( SOFT 1 )</p>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="row">
                          <div class="col-4 date-holder text-right">
                            <div class="icon"><i class="fa fa-clock-o"></i></div>
                            <div class="date"> <span>6:00 am</span><span class="text-info">6 hours ago</span></div>
                          </div>
                          <div class="col-8 content"><strong>GTA/VMC-1260</strong>
                            <p>4-500 : (Z)+ OVERTRAVEL ( SOFT 1 )</p>
                          </div>
                        </div>
                      </li>
                      </ul>
                  </div>
                </div> -->
              </div>
              
            </div>
          </div>
        </section>

        <div ng-include="'footer.html'"></div>
 </div>
